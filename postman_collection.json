{
	"info": {
		"_postman_id": "wallet-service-collection",
		"name": "Digital Wallet API",
		"description": "Complete API collection for Digital Wallet Backend Service\n\nTest User Credentials:\n- Email: test@example.com\n- Password: password123\n- PIN: 123456\n- Initial Balance: 1,000,000,000",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Authentication",
			"item": [
				{
					"name": "Register New User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"newuser@example.com\",\n    \"password\": \"mypassword123\",\n    \"pin\": \"654321\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/register",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"register"
							]
						},
						"description": "Register a new user with email, password, and PIN.\n\nValidation Rules:\n- Email must be valid format\n- Password minimum 6 characters\n- PIN must be exactly 6 digits"
					},
					"response": [
						{
							"name": "Success - User Registered",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"newuser@example.com\",\n    \"password\": \"mypassword123\",\n    \"pin\": \"654321\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/register",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"register"
									]
								}
							},
							"status": "Created",
							"code": 201,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "X-Request-Id",
									"value": "a1b2c3d4e5f6789012345678abcdef01"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"user_id\": 2,\n        \"email\": \"newuser@example.com\"\n    },\n    \"code\": 200,\n    \"accessTime\": \"2026-01-30T23:45:00Z\"\n}"
						},
						{
							"name": "Error - Email Already Exists",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\",\n    \"pin\": \"123456\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/register",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"register"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"data\": {\n        \"error\": \"email already registered\"\n    },\n    \"code\": 40001,\n    \"accessTime\": \"2026-01-30T23:45:05Z\"\n}"
						}
					]
				},
				{
					"name": "Login",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"login"
							]
						},
						"description": "Login with email and password to get JWT access token.\n\nTest User:\n- Email: test@example.com\n- Password: password123\n\nCopy the access_token from response and use it in protected endpoints."
					},
					"response": [
						{
							"name": "Success - Login",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"password123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"login"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "X-Request-Id",
									"value": "b2c3d4e5f6a7890123456789bcdef012"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"access_token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyX2lkIjoxLCJleHAiOjE3Mzg0NTY3ODksImlhdCI6MTczODM3MDM4OX0.xYz123AbcDef456GhiJkl789MnoPqr012StUvWxYz\"\n    },\n    \"code\": 200,\n    \"accessTime\": \"2026-01-30T23:46:29Z\"\n}"
						},
						{
							"name": "Error - Invalid Credentials",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"email\": \"test@example.com\",\n    \"password\": \"wrongpassword\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/login",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"login"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"data\": {\n        \"error\": \"invalid email or password\"\n    },\n    \"code\": 40002,\n    \"accessTime\": \"2026-01-30T23:46:35Z\"\n}"
						}
					]
				}
			],
			"description": "Authentication endpoints for user registration and login"
		},
		{
			"name": "Wallet",
			"item": [
				{
					"name": "Get Balance",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{base_url}}/api/balance",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"balance"
							]
						},
						"description": "Get current wallet balance for authenticated user.\n\nRequires: JWT token in Authorization header\n\nReturns balance in smallest unit (e.g., cents)."
					},
					"response": [
						{
							"name": "Success - Get Balance",
							"originalRequest": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
									}
								],
								"url": {
									"raw": "{{base_url}}/api/balance",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"balance"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "X-Request-Id",
									"value": "c3d4e5f6a7b8901234567890cdef0123"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"balance\": 1000000000\n    },\n    \"code\": 200,\n    \"accessTime\": \"2026-01-30T23:47:00Z\"\n}"
						},
						{
							"name": "Error - Unauthorized (No Token)",
							"originalRequest": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/api/balance",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"balance"
									]
								}
							},
							"status": "Unauthorized",
							"code": 401,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"data\": {\n        \"error\": \"authorization header required\"\n    },\n    \"code\": 401,\n    \"accessTime\": \"2026-01-30T23:47:10Z\"\n}"
						}
					]
				},
				{
					"name": "Withdraw",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{jwt_token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 50000,\n    \"pin\": \"123456\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/api/withdraw",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"api",
								"withdraw"
							]
						},
						"description": "Withdraw funds from wallet.\n\nRequires:\n- JWT token in Authorization header\n- Valid 6-digit PIN\n- Amount must be greater than 0\n- Sufficient balance\n\nTest User PIN: 123456\n\nThe operation is atomic - both balance update and transaction record are created in a single database transaction."
					},
					"response": [
						{
							"name": "Success - Withdraw",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"amount\": 50000,\n    \"pin\": \"123456\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/withdraw",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"withdraw"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								},
								{
									"key": "X-Request-Id",
									"value": "d4e5f6a7b8c9012345678901def01234"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": true,\n    \"data\": {\n        \"transaction_id\": 1,\n        \"new_balance\": 999950000\n    },\n    \"code\": 200,\n    \"accessTime\": \"2026-01-30T23:48:00Z\"\n}"
						},
						{
							"name": "Error - Invalid PIN",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"amount\": 50000,\n    \"pin\": \"999999\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/withdraw",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"withdraw"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"data\": {\n        \"error\": \"invalid PIN\"\n    },\n    \"code\": 40004,\n    \"accessTime\": \"2026-01-30T23:48:15Z\"\n}"
						},
						{
							"name": "Error - Insufficient Balance",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									},
									{
										"key": "Authorization",
										"value": "Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n    \"amount\": 99999999999,\n    \"pin\": \"123456\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/api/withdraw",
									"host": [
										"{{base_url}}"
									],
									"path": [
										"api",
										"withdraw"
									]
								}
							},
							"status": "Bad Request",
							"code": 400,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n    \"success\": false,\n    \"data\": {\n        \"error\": \"insufficient balance\"\n    },\n    \"code\": 40005,\n    \"accessTime\": \"2026-01-30T23:48:30Z\"\n}"
						}
					]
				}
			],
			"description": "Wallet management endpoints for balance inquiry and withdrawals"
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "jwt_token",
			"value": "",
			"type": "string"
		}
	]
}
